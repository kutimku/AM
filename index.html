<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>P2H Form</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      padding: 10px;
      font-size: 16px;
    }

    label {
      font-weight: normal;
    }

    input[type="text"], input[type="date"] {
      width: 100%;
      padding: 5px;
      margin-bottom: 15px;
      font-size: 16px;
    }

    .form-section {
      margin-bottom: 15px;
    }

    table {
      width: 100%;
      border-collapse: collapse;
    }

    th, td {
      padding: 6px;
      border-bottom: 1px solid #ccc;
      vertical-align: top;
    }

     .keterangan {
      font-size: 14px;
      margin-top: 15px;
      padding: 10px;
      background: #f2f2f2;
      border-left: 4px solid #555;
    }

    .keterangan-rusak {
      margin-top: 5px;
    }

    .keterangan-rusak input {
      width: 100%;
      padding: 5px;
      font-size: 14px;
    }

    @media (max-width: 580px) {
      th, td {
        font-size: 16px;
      }

    .radio-group {
  display: flex;
  gap: 20px; 
  margin-bottom: 10px;
  margin-top: 5px;
}

.radio-group label {
  margin: 0;
  font-size: 15px;
  display: flex;
  align-items: center;
  gap: 5px;
}
</style>
</head>
<body>
  <h2>Form Pemeriksaan P2H</h2>
  <form id="p2hForm">
    <div class="header-inputs">
      <label>Tanggal: <input type="date" name="tanggal" required></label><br>
      <label>No. ID: <input type="text" name="id" required></label><br>
      <label>Unit / Alat: <input type="text" name="unit" required></label>
    </div>

    <p class="keterangan"><strong>Keterangan:</strong> B = Bagus, R = Rusak, O = Tidak Diperlukan</p>

    <table>
      <thead>
        <tr>
          <th>No</th>
          <th>Item Pemeriksaan</th>
          <th>Kondisi</th>
        </tr>
      </thead>
      <tbody id="formItems">
        <!-- Generated items here -->
      </tbody>
    </table>

    <button type="submit">Kirim</button>
  </form>

  <script>
    const items = [
      "Kondisi Kemudi",
      "Sabuk pengaman",
      "Rem kaki & tangan <7 klik",
      "Lampu depan/sein/ atas/rotari",
      "Lampu belakang/stop/sein",
      "Alarm mundur",
      "Air radiator",
      "Oli Mesin",
      "Minyak rem & power steering",
      "Fun belt"
    ];

    const tbody = document.getElementById("formItems");

    items.forEach((item, index) => {
      const name = `item_${index + 1}`;

      const row = document.createElement("tr");
      row.innerHTML = `
        <td>${index + 1}</td>
        <td>${item}</td>
        <td>
          <div class="radio-group">
            <label><input type="radio" name="${name}" value="B"> B</label>
            <label><input type="radio" name="${name}" value="R"> R</label>
            <label><input type="radio" name="${name}" value="O"> O</label>
          </div>
          <div class="keterangan-rusak" id="${name}_keterangan" style="display: none;">
            <input type="text" name="${name}_detail" placeholder="Tuliskan keterangan kerusakan">
          </div>
        </td>
      `;

      tbody.appendChild(row);

      // Tambahkan event listener setelah elemen ditambahkan
      setTimeout(() => {
        const radios = document.getElementsByName(name);
        const ketDiv = document.getElementById(`${name}_keterangan`);

        radios.forEach(radio => {
          radio.addEventListener("change", () => {
            if (radio.value === "R" && radio.checked) {
              ketDiv.style.display = "block";
            } else if (radio.checked) {
              ketDiv.style.display = "none";
            }
          });
        });
      }, 0);
    });
  </script>
</body>
</html>
